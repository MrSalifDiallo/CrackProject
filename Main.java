import java.io.BufferedReader;
import java.io.InputStreamReader;
public class Main {

    public static void main(String[] args) {
        PasswordCrackerFactory factory = new PasswordCrackerFactory();
        InformationPasswordFactory factoryInfos=new InformationPasswordFactory();
        CommandeLine affichage = new CommandeLine();
        try {
            String userChoix = null;
            boolean choixValide = false;
            boolean quit=false;
            InputStreamReader isr = new InputStreamReader(System.in);
            BufferedReader br = new BufferedReader(isr);
            StringBuilder texte=new StringBuilder();
            texte.append("\t\t\tFaites Votre Choix(1\\2\\3\\4\\5\\6):");
            //affichage.ouvrirConsolePleinEcran();
            do {      
                affichage.effacerConsole();
                System.out.println("@@@@@@@@@@@%%%%%%%%%%%%#####{{{{{{{{{{{{####%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n" + //
                                            "@@@@@@@@@%%%%%%%%%%%#####{#^::>}}}}}}}}}}}{{##%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         ██╗  ██╗ █████╗  █████╗ ██╗   ██╗    ███╗   ██╗██╗ ██████╗ ██╗   ██╗\r\n" + //
                                            "@@@@@@@@@@%%%%%%%%%####{{~  .    ][[]]][[[[}}{##%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         ██║ ██╔╝██╔══██╗██╔══██╗╚██╗ ██╔╝    ████╗  ██║██║██╔═══██╗██║   ██║\r\n" + //
                                            "@@@@@@@@@@%%%%%%%%####{<   .--~-. =(((((((]][}}#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         █████╔╝ ███████║███████║ ╚████╔╝     ██╔██╗ ██║██║██║   ██║██║   ██║\r\n" + //
                                            "@@@@@@@@@@%%%%%%%%###{}   ..-->>=. :)))))))(][}{#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         ██╔═██╗ ██╔══██║██╔══██║  ╚██╔╝      ██║╚██╗██║██║██║   ██║██║   ██║\r\n" + //
                                            "@@@@@@@@@@%%%%%##%###{   .+<(](>+~..:<<><<<<(][}{#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@         ██╔═██╗ ██╔══██║██╔══██║  ╚██╔╝      ██║╚██╗██║██║██║   ██║██║   ██║\r\n" + //
                                            "@@@@@@@@@@%%%%%##%###[  %@@@@@@@@@@) +^^^^>><)]}{#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@         ██║  ██╗██║  ██║██║  ██║   ██║       ██║ ╚████║██║╚██████╔╝╚██████╔╝\r\n" + //
                                            "@@@@@@@@@@@%%%%%#%### }@@@@@@@@@@@@@@^^^^^^><)([{#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@         ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝       ╚═╝  ╚═══╝╚═╝ ╚═════╝  ╚═════╝\r\n" + //
                                            "@@@@@@@@@@@@%%%%%%##}@@@@@@@@@@@@@@@@@=^>>><)(][{#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@          \r\n" + //
                                            "@@@@@@@@@@@@%%%%%%%{^@@@@@@@@@@@@@@@@@[<<)))(][{#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@             ██████╗ ███████╗ ██████╗ ██████╗ ██████╗ ███████╗██████╗ \r\n" + //
                                            "@@@@@@@@@@@@@%%@^ .:+@@@@@@@@@@@@@@@@@*~~-:<}{{#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             ██╔══██╗██╔════╝██╔════╝██╔═══██╗██╔══██╗██╔════╝██╔══██╗\r\n" + //
                                            "@@@@@@@@@@@@@( .-===+#@@@@@@@@@@@@@@@[)>^**+.#%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             ██║  ██║█████╗  ██║     ██║   ██║██║  ██║█████╗  ██████╔╝\r\n" + //
                                            "@@@@@@@@@@@@ ~^[<^<<{[@@@@@@@@@@@@@@#%}[]<(<*:}@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             ██║  ██║██╔══╝  ██║     ██║   ██║██║  ██║██╔══╝  ██╔══██╗\r\n" + //
                                            "@@@@@@@@@@# ~]){{]{}##%@@@@@@@@@@@@%@%##{}]{]^:(@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@             ██████╔╝███████╗╚██████╗╚██████╔╝██████╔╝███████╗██║  ██║\r\n" + //
                                            "@@@@@@@@@[=><#{}#}{{[[(]()<<>>>^^^*^^^^^*^^^*+--]@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@         \r\n" + //
                                            "@@@@@@@@~{#}}#%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%[>@@@@@@@@@@@@@@@@@@@@@@@@@@@@@     1.Attaque par Brute Force\r\n" + //
                                            "@@@@@@@~+))}%%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%#}(@@@@@@@@@@@@@@@@@@@@@@@@@@@@     \r\n" + //
                                            "@@@@@@=>({}[##@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%]>~)@@@@@@@@@@@@@@@@@@@@@@@@@@@     2.Attaque par Dictionnaire\r\n" + //
                                            "@@@@%])^^>#%{%%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%{%{+(@@@@@@@@@@@@@@@@@@@@@@@@@@\r\n" + //
                                            "@@@@))>*<[<^(}@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#]+:-:(@@@@@@@@@@@@@@@@@@@@@@@@@     3.Attaque Mixte(Dictionnaire combiné avec Brute Force)\r\n" + //
                                            "@@@@}(<@{[#{{{%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%]}+-.~#@@@@@@@@@@@@@@@@@@@@@@@@ \r\n" + //
                                            "@@@@[[@}{@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%#%[-~%@@@@@@@@@@@@@@@@@@@@@@@@     4.Connaitre la sortie de Hashage d'un mot de passe\r\n" + //
                                            "%%%%%#%#@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@###%%%%%%%%%%%%%@@@@@@@@@@@@\r\n" + //
                                            "%%%%%#########%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%##%%%%%%%%%%%%%%%%%@@@@@@@@@@     5.Ajouter la sortie de Hashage d'un mot de passe(Pas encore Implémentée)\r\n" + //
                                            "%%%%%%########%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%##%%%%%%%%%%%%%%@@@@@@@@@@@@\r\n" + //
                                            "%%%%%#########%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%##%%%%%%%%%%%%%%%%%@@@@@@@@@@     6.Attaque en Ligne d'un site Web(Pas encore Implémentée)\r\n" + //
                                            "%%%%%#########%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%##%%%%%%%%%%%%%%%%%@@@@@@@@@@\r\n" + //
                                            "%%%%%#########%@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@%%%##%%%%%%%%%%%%%%%%%@@@@@@@@@@     7.Quitter le programme\r\n" + //
                                            "\r\n" + //
                                            "                                                                 ");                  
                System.out.print(texte);
                userChoix = br.readLine().trim();
                if (userChoix.matches("[1-7]")) {
                    choixValide = true;
                    switch (userChoix) {
                        case "1":
                        case "2":
                        case "3":
                                PasswordCracker Crackeur = factory.getInstance(userChoix);
                                Crackeur.afficherMenu();
                                quit=false;
                                break;
                            // Permet à l'utilisateur de sélectionner un autre type d'attaque
                        case "4":
                                InformationPassword infosPassword=factoryInfos.getInstance(userChoix);
                                infosPassword.afficherMenu();
                                quit=false;
                                break;
                        case "5":
                                quit=false;
                                break;
                        case "6":
                            quit=false;  
                            break;              
                        case "7":
                            quit = true; // Quitter le programme
                            affichage.effacerConsole();
                            System.out.println("$$\\      $$\\                               $$\\                       $$\\       $$\\                      $$\\                $$\\     \r\n" + //
                               "$$$\\    $$$ |                              \\__|                      $$ |      \\__|                     $$ |               $$ |    \r\n" + //
                               "$$$$\\  $$$$ | $$$$$$\\   $$$$$$\\   $$$$$$$\\ $$\\        $$$$$$\\        $$$$$$$\\  $$\\  $$$$$$\\  $$$$$$$\\ $$$$$$\\    $$$$$$\\ $$$$$$\\   \r\n" + //
                               "$$\\$$\\$$ $$ |$$  __$$\\ $$  __$$\\ $$  _____|$$ |       \\____$$\\       $$  __$$\\ $$ |$$  __$$\\ $$  __$$\\_ $$  _|  $$  __$$\\_$$  _|  \r\n" + //
                               "$$ \\$$$  $$ |$$$$$$$$ |$$ |  \\__|$$ /      $$ |       $$$$$$$ |      $$ |  $$ |$$ |$$$$$$$$ |$$ |  $$ | $$ |    $$ /  $$ | $$ |    \r\n" + //
                               "$$ |\\$  /$$ |$$   ____|$$ |      $$ |      $$ |      $$  __$$ |      $$ |  $$ |$$ |$$   ____|$$ |  $$ | $$ |$$\\ $$ |  $$ | $$ |$$\\ \r\n" + //
                               "$$ | \\_/ $$ |\\$$$$$$$\\ $$ |      \\$$$$$$$\\ $$ |      \\$$$$$$$ |      $$$$$$$  |$$ |\\$$$$$$$\\ $$ |  $$ | \\$$$$  |\\$$$$$$  | \\$$$$  |\r\n" + //
                               "\\__|     \\__| \\_______|\\__|       \\_______|\\__|       \\_______|      \\_______/ \\__| \\_______|\\__|  \\__|  \\____/  \\______/   \\____/ \r\n" + //
                                "");
                            break;
                    }
                } 
                else {
                    System.out.print("\033[1A");  //Remonter d'une ligne et supprimer la ligne ou l'on etait il supprime la ligne du readline car apres la saisie on a retour a la ligne
                    System.out.println("\033[K");// Maintenant on est carrement la ligne demandant le choix avec cette commande on supprime la ligne cette ligne 
                    System.out.print("\033[1A");
                    choixValide=false;
                    quit=false;
                }
            } while (!choixValide || !quit);
        }
        catch (Throwable e) {
            affichage.effacerConsole();
            System.out.println("$$\\      $$\\                               $$\\                       $$\\       $$\\                      $$\\                $$\\     \r\n" + //
                               "$$$\\    $$$ |                              \\__|                      $$ |      \\__|                     $$ |               $$ |    \r\n" + //
                               "$$$$\\  $$$$ | $$$$$$\\   $$$$$$\\   $$$$$$$\\ $$\\        $$$$$$\\        $$$$$$$\\  $$\\  $$$$$$\\  $$$$$$$\\ $$$$$$\\    $$$$$$\\ $$$$$$\\   \r\n" + //
                               "$$\\$$\\$$ $$ |$$  __$$\\ $$  __$$\\ $$  _____|$$ |       \\____$$\\       $$  __$$\\ $$ |$$  __$$\\ $$  __$$\\_ $$  _|  $$  __$$\\_$$  _|  \r\n" + //
                               "$$ \\$$$  $$ |$$$$$$$$ |$$ |  \\__|$$ /      $$ |       $$$$$$$ |      $$ |  $$ |$$ |$$$$$$$$ |$$ |  $$ | $$ |    $$ /  $$ | $$ |    \r\n" + //
                               "$$ |\\$  /$$ |$$   ____|$$ |      $$ |      $$ |      $$  __$$ |      $$ |  $$ |$$ |$$   ____|$$ |  $$ | $$ |$$\\ $$ |  $$ | $$ |$$\\ \r\n" + //
                               "$$ | \\_/ $$ |\\$$$$$$$\\ $$ |      \\$$$$$$$\\ $$ |      \\$$$$$$$ |      $$$$$$$  |$$ |\\$$$$$$$\\ $$ |  $$ | \\$$$$  |\\$$$$$$  | \\$$$$  |\r\n" + //
                               "\\__|     \\__| \\_______|\\__|       \\_______|\\__|       \\_______|      \\_______/ \\__| \\_______|\\__|  \\__|  \\____/  \\______/   \\____/ \r\n" + //
                                "");
            System.exit(0); // Quitter le programme avec un code d'erreur78  
        }
    }
}
